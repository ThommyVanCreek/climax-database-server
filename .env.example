# ═══════════════════════════════════════════════════════════════════════════════
# ClimaX Security System - Server Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env and configure for your environment
# NEVER commit the .env file with real credentials to version control!
# Generate secure passwords with: openssl rand -base64 32
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────────
# Database Configuration (PostgreSQL)
# ─────────────────────────────────────────────────────────────────────────────────
# Use 'postgres' as host when running in Docker Compose
DB_HOST=localhost
DB_PORT=5432
DB_NAME=climax
DB_USER=climax
DB_PASSWORD=CHANGE_ME_generate_secure_password

# Connection pool settings
DB_POOL_MIN_CONN=2
DB_POOL_MAX_CONN=10

# ─────────────────────────────────────────────────────────────────────────────────
# Dashboard Database User (read-only access for Grafana/dashboards)
# ─────────────────────────────────────────────────────────────────────────────────
DB_DASHBOARD_USER=climax_dashboard
DB_DASHBOARD_PASSWORD=

# ─────────────────────────────────────────────────────────────────────────────────
# API Security - ESP32 Write Access
# ─────────────────────────────────────────────────────────────────────────────────
# This key must match the one in bridge's security.h
API_KEY_WRITE=CHANGE_ME_generate_secure_key

# ─────────────────────────────────────────────────────────────────────────────────
# API Security - Dashboard/Client Read Access
# ─────────────────────────────────────────────────────────────────────────────────
# This key is used by the web client (VITE_API_KEY)
API_KEY_READ=

# ─────────────────────────────────────────────────────────────────────────────────
# Server Configuration
# ─────────────────────────────────────────────────────────────────────────────────
PORT=5000
HOST=0.0.0.0
DEBUG=false

# Gunicorn settings (for Docker)
WORKERS=2
THREADS=4

# ─────────────────────────────────────────────────────────────────────────────────
# Timezone Configuration
# ─────────────────────────────────────────────────────────────────────────────────
TIMEZONE=Europe/Vienna

# ─────────────────────────────────────────────────────────────────────────────────
# Data Retention Configuration (days, 0 = keep forever)
# ─────────────────────────────────────────────────────────────────────────────────
DATA_RETENTION_DAYS=1460
SECURITY_RETENTION_DAYS=1460
AUDIT_RETENTION_DAYS=1460

# Cleanup schedule (cron format, empty = disabled)
CLEANUP_SCHEDULE=0 3 * * *

# ─────────────────────────────────────────────────────────────────────────────────
# Logging Configuration
# ─────────────────────────────────────────────────────────────────────────────────
LOG_LEVEL=INFO
LOG_FILE=
LOG_REQUESTS=false

# ─────────────────────────────────────────────────────────────────────────────────
# CORS Configuration
# ─────────────────────────────────────────────────────────────────────────────────
# Comma-separated origins or * for all
CORS_ORIGINS=*
